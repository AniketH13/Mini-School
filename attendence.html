{% extends "base.html" %}

{% block title %}Attendance | School Management{% endblock %}

{% block content %}
<h1>Attendance Records</h1>

<!-- Attendance Form -->
<form method="POST" action="/attendance/add" style="margin-bottom: 20px;">
    <label>Date:</label><br>
    <input type="date" name="date" required><br><br>

    <label>Student Name:</label><br>
    <input type="text" name="student_name" placeholder="Enter name" required><br><br>

    <label>Status:</label><br>
    <select name="status" required>
        <option value="Present">Present</option>
        <option value="Absent">Absent</option>
    </select><br><br>

    <button type="submit">Add Attendance</button>
</form>

<hr>

<!-- Attendance Table -->
<table border="1" cellpadding="10" cellspacing="0">
    <thead>
        <tr>
            <th>Date</th>
            <th>Student Name</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for row in records %}
        <tr>
            <td>{{ row["date"] }}</td>
            <td>{{ row["student_name"] }}</td>
            <td>{{ row["status"] }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="3">No attendance records found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
